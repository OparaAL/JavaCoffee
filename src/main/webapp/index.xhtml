<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui" >

<f:view>
    <h:head>
        <title>#{msg['order_coffee']}</title>
        <h:outputStylesheet library="css" name="style.css"  />
    </h:head>

    <h:body>
        <h:form>
            <p:dataTable value="#{coffeeBean.notDis}" var="coffee">
                <p:column headerText="#{msg['name']}">
                    <h:outputText value="#{coffee.coffeeName}"/>
                </p:column>
                <p:column headerText="#{msg['cost']}">
                    <h:outputText value="#{coffee.costForCup} TGR"/>
                </p:column>
                <p:column headerText="#{msg['quantity']}" >
                    <p:inputText id="inputCups" value="#{orderBean.quantityOfCups}" validatorMessage="#{msg['cups_not_empty']}">
                        <p:ajax event="keyup" listener="#{orderBean.addCoffee(coffee.id, orderBean.quantityOfCups)}"/>
                        <f:validateLongRange minimum="1" maximum="15"/>
                    </p:inputText>
                    <p:message for="inputCups" display="text"/>
                </p:column>

            </p:dataTable>
            <br/>
            <h:commandButton value="#{msg['order']}" action="#{orderBean.toOrder}"  update="inputCups"/>
            <h:outputText value=" "/>
            <h:commandButton value="#{msg['current_order']}" action="#{orderBean.redirectToCurrentOrder}"/>
            <h:outputText value=" "/>
            <h:commandButton value="#{msg['orders']}" action="#{orderBean.redirectToOrders}"/>


        </h:form>
        <br/>
        <h:outputText value="#{msg['delivery_cost']}"/>
        <br/>
        <h:outputText value="#{msg['delivery_free']}"/>
        <br/>
        <br/>
        <br/>
        <h:outputText value="*#{msg['freeCup']}"/>
        <br/>

        <ui:include src="resources/template/lang.xhtml"/>
    </h:body>
</f:view>

</html>